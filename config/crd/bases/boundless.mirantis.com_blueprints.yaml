---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.11.1
  creationTimestamp: null
  name: blueprints.boundless.mirantis.com
spec:
  group: boundless.mirantis.com
  names:
    kind: Blueprint
    listKind: BlueprintList
    plural: blueprints
    singular: blueprint
  scope: Namespaced
  versions:
  - name: v1alpha1
    schema:
      openAPIV3Schema:
        description: Blueprint is the Schema for the blueprints API
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: BlueprintSpec defines the desired state of Blueprint
            properties:
              components:
                description: Components contains all the components that should be
                  installed
                properties:
                  addons:
                    items:
                      description: AddonSpec defines the desired state of Addon
                      properties:
                        chart:
                          properties:
                            name:
                              type: string
                            repo:
                              type: string
                            set:
                              additionalProperties:
                                anyOf:
                                - type: integer
                                - type: string
                                x-kubernetes-int-or-string: true
                              type: object
                            values:
                              type: string
                            version:
                              type: string
                          required:
                          - name
                          - repo
                          - version
                          type: object
                        enabled:
                          type: boolean
                        kind:
                          enum:
                          - manifest
                          - chart
                          - Manifest
                          - Chart
                          type: string
                        manifest:
                          properties:
                            config:
                              properties:
                                images:
                                  description: Images is a list of (image name, new
                                    name, new tag or digest) for changing image names,
                                    tags or digests. This can also be achieved with
                                    a patch, but this operator is simpler to specify.
                                  items:
                                    description: Image contains an image name, a new
                                      name, a new tag or digest, which will replace
                                      the original name and tag.
                                    properties:
                                      digest:
                                        description: Digest is the value used to replace
                                          the original image tag. If digest is present
                                          NewTag value is ignored.
                                        type: string
                                      name:
                                        description: Name is a tag-less image name.
                                        type: string
                                      newName:
                                        description: NewName is the value used to
                                          replace the original name.
                                        type: string
                                      newTag:
                                        description: NewTag is the value used to replace
                                          the original tag.
                                        type: string
                                      tagSuffix:
                                        description: TagSuffix is the value used to
                                          suffix the original tag If Digest and NewTag
                                          is present an error is thrown
                                        type: string
                                    type: object
                                  type: array
                                patches:
                                  description: Patches is a list of patches, where
                                    each one can be either a Strategic Merge Patch
                                    or a JSON patch. Each patch can be applied to
                                    multiple target objects.
                                  items:
                                    description: Patch contains an inline StrategicMerge
                                      or JSON6902 patch, and the target the patch
                                      should be applied to. This is in coherence with
                                      https://github.com/kubernetes-sigs/kustomize/blob/api/v0.16.0/api/types/patch.go#L12
                                    properties:
                                      options:
                                        additionalProperties:
                                          type: boolean
                                        description: Options is a list of options
                                          for the patch
                                        type: object
                                      patch:
                                        description: Patch contains an inline StrategicMerge
                                          patch or an inline JSON6902 patch with an
                                          array of operation objects.
                                        type: string
                                      path:
                                        description: Path is a relative file path
                                          to the patch file.
                                        type: string
                                      target:
                                        description: Target points to the resources
                                          that the patch document should be applied
                                          to.
                                        properties:
                                          annotationSelector:
                                            description: AnnotationSelector is a string
                                              that follows the label selection expression
                                              https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/#api
                                              It matches with the resource annotations.
                                            type: string
                                          group:
                                            type: string
                                          kind:
                                            type: string
                                          labelSelector:
                                            description: LabelSelector is a string
                                              that follows the label selection expression
                                              https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/#api
                                              It matches with the resource labels.
                                            type: string
                                          name:
                                            description: Name of the resource.
                                            type: string
                                          namespace:
                                            description: Namespace the resource belongs
                                              to, if it can belong to a namespace.
                                            type: string
                                          version:
                                            type: string
                                        type: object
                                    required:
                                    - patch
                                    type: object
                                  type: array
                              type: object
                            url:
                              minLength: 1
                              type: string
                          required:
                          - url
                          type: object
                        name:
                          type: string
                        namespace:
                          type: string
                      required:
                      - enabled
                      - kind
                      - name
                      type: object
                    type: array
                  core:
                    properties:
                      ingress:
                        description: IngressSpec defines the desired state of Ingress
                        properties:
                          config:
                            type: string
                          enabled:
                            description: Enabled is a flag to enable/disable the ingress
                            type: boolean
                          provider:
                            type: string
                        required:
                        - enabled
                        - provider
                        type: object
                    type: object
                type: object
            type: object
          status:
            description: BlueprintStatus defines the observed state of Blueprint
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
