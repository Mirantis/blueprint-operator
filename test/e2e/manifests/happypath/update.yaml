apiVersion: boundless.mirantis.com/v1alpha1
kind: Blueprint
metadata:
  name: boundless-cluster
  namespace: boundless-system
spec:
  components:
    addons:
      - name: test-addon-1
        kind: chart
        enabled: true
        namespace: test-ns-1
        chart:
          name: nginx
          repo: https://charts.bitnami.com/bitnami
          version: 15.9.1 # updated version
      - name: test-addon-2
        kind: manifest
        enabled: true
        namespace: test-ns-1
        manifest:
          url: "https://raw.githubusercontent.com/metallb/metallb/v0.13.12/config/manifests/metallb-native.yaml" # updated version
      - name: test-addon-3
        kind: chart
        enabled: true
        namespace: default
        chart:
          name: crossplane
          repo: https://charts.crossplane.io/master/
          version: 1.15.0-rc.0.9.ged19cd5d
    certificateAuthorities:
      issuers:
        - name: test-issuer-1
          namespace: test-issuer-ns-1
          spec:
            ca: # updated issuer type; use secret instead of self-signed
              secretName: test-issuer-secret
        - name: test-issuer-2
          namespace: test-issuer-ns-2 # update issuer namespace
          spec:
            selfSigned: {}
        - name: test-issuer-3
          namespace: test-issuer-ns-1
          spec:
            selfSigned: {}
      clusterIssuers:
        - name: test-cluster-issuer-1
          spec:
            ca: # updated issuer type; use secret instead of self-signed
              secretName: test-cluster-issuer-secret
        - name: test-cluster-issuer-2
          spec:
            selfSigned: {}
